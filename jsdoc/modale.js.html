<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modale.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modale.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module modale
 */

function openModalForm(currentPhotographer) {
  let validFirst;
  let validLast;
  let validMail;
  let validMsg;
  const banerBody = document.querySelector(".banner-body");
  const bannerBtnTablet = document.querySelector(".banner-btn");
  const btnModalMobile = document.querySelector(".btn-modal-mobile");
  const bannerModal = document.createElement("div");
  const bannerModalContent = document.createElement("div");
  const bannerModalValidationMsg = document.createElement("div");
  const bannerModalHeader = document.createElement("div");
  const modalClose = document.createElement("i");
  const modalTitle = document.createElement("h3");
  const bannerForm = document.createElement("form");
  const formFirstName = document.createElement("label");
  const formFirstNameInp = document.createElement("input");
  const messageAlertFirst = document.createElement("span");

  const formLastName = document.createElement("label");
  const formLastNameInp = document.createElement("input");
  const messageAlertLast = document.createElement("span");

  const formEmail = document.createElement("label");
  const formEmailInp = document.createElement("input");
  const messageAlertMail = document.createElement("span");

  const formTxt = document.createElement("label");
  const formTxtInp = document.createElement("textarea");
  const messageAlertMsg = document.createElement("span");

  const formBtn = document.createElement("button");

  bannerModal.classList.add("contact-modal");
  modalClose.classList.add("modal-close");
  bannerModalValidationMsg.classList.add("modal-validation-msg");
  modalClose.classList.add("fas");
  modalClose.classList.add("fa-times");
  bannerModalHeader.classList.add("modal-header");
  bannerForm.classList.add("modal-form");
  messageAlertFirst.classList.add("message-alert");
  messageAlertLast.classList.add("message-alert");
  messageAlertMail.classList.add("message-alert");
  messageAlertMsg.classList.add("message-alert");

  formFirstNameInp.classList.add("firstName-inp");
  formFirstNameInp.id = "prenom";
  formFirstName.setAttribute("for", "prenom");
  formFirstNameInp.setAttribute("type", "text");
  formFirstNameInp.setAttribute("maxlenght", "24");
  formFirstNameInp.setAttribute("name", "first-Name");

  formLastNameInp.classList.add("lastName-inp");
  formLastNameInp.id = "nom";
  formLastName.setAttribute("for", "nom");
  formLastNameInp.setAttribute("type", "text");
  formLastNameInp.setAttribute("maxlenght", "24");
  formLastNameInp.setAttribute("name", "last-Name");

  formEmailInp.classList.add("email-inp");
  formEmailInp.id = "email";
  formEmail.setAttribute("for", "email");
  formEmailInp.setAttribute("type", "email");
  formBtn.setAttribute("type", "submit");
  formBtn.setAttribute("value", "Envoyer");
  formBtn.setAttribute("name", "Email");

  formTxtInp.classList.add("msg-inp");
  formTxtInp.id = "msg";
  formTxt.setAttribute("for", "msg");
  formTxtInp.setAttribute("type", "text");
  formTxtInp.setAttribute("name", "message");

  bannerModalContent.classList.add("modal-content");
  btnModalMobile.setAttribute("type", "button");
  bannerBtnTablet.setAttribute("type", "button");

  modalTitle.innerHTML = `Contactez-Moi &lt;br>${currentPhotographer.name}`;

  formFirstName.innerHTML = "Prénom";
  messageAlertFirst.textContent = "Vous devez entrer votre prénom !";
  messageAlertLast.textContent = "Vous devez entrer votre nom !";
  messageAlertMail.textContent = "Vous devez entrer un Email valide ! ";
  messageAlertMsg.textContent = "Votre devez entrer un message ! ";
  formLastName.innerHTML = "Nom";
  formEmail.innerHTML = "Email&lt;br>";
  formTxt.innerHTML = "Votre Message&lt;br>";
  formBtn.textContent = "Envoyer";
  // bannerModalValidationMsg.textContent = `Votre message a bien été envoyé à ${currentPhotographer.name} `;

  banerBody.append(bannerModal);
  bannerModal.append(bannerModalContent);
  bannerModalContent.append(bannerModalHeader, bannerForm);
  bannerModalHeader.append(modalTitle, modalClose);
  bannerForm.append(
    formFirstName,
    formFirstNameInp,
    messageAlertFirst,
    formLastName,
    formLastNameInp,
    messageAlertLast,
    formEmail,
    formEmailInp,
    messageAlertMail,
    formTxt,
    formTxtInp,
    messageAlertMsg,

    formBtn
  );

  function isValid(e) {
    e.preventDefault();

    verifFirst();
    verifLast();
    verifMail();
    verifMsg();
    if (
      validFirst === true &amp;&amp;
      validLast === true &amp;&amp;
      validMail === true &amp;&amp;
      validMsg === true
    ) {
      modalTitle.textContent = `Votre message a bien été envoyé à ${currentPhotographer.name} `;
      bannerForm.style.display = "none";
      modalTitle.style.animation = "apparition-down 0.8s ease-in-out";
      modalTitle.style.margin = "65% 0";
      modalTitle.style.fontSize = "30px";

      // log des entres de l'uttilisateur
      let datas = new FormData(bannerForm);
      for (let i of datas.entries()) {
        console.log(i[0], ":", i[1]);
      }
    }
  }
  //open modal
  btnModalMobile.addEventListener("click", () => {
    bannerModal.style.display = "flex";
  });
  bannerBtnTablet.addEventListener("click", () => {
    bannerModal.style.display = "flex";
  });
  // close modal
  modalClose.addEventListener("click", () => {
    bannerModal.style.display = "none";
  });
  // submit form
  bannerForm.addEventListener("submit", isValid);
}

function verifFirst() {
  const formFirstNameInp = document.querySelector(".firstName-inp");

  const errorMessage = document.querySelectorAll(".message-alert");
  formFirstNameInp.addEventListener("input", (e) => {
    if (e.target.value.length &lt;= 3) {
      errorMessage[0].style.display = "inline";
      formFirstNameInp.classList.add("echec");
      formFirstNameInp.classList.add("border");

      setTimeout(() => {
        formFirstNameInp.classList.remove("echec");
        formFirstNameInp.classList.remove("border");
      }, 500);
      return (validFirst = false);
    } else {
      errorMessage[0].style.display = "none";
      return (validFirst = true);
    }
  });
}
function verifLast() {
  const formLastNameInp = document.querySelector(".lastName-inp");
  const errorMessage = document.querySelectorAll(".message-alert");

  formLastNameInp.addEventListener("input", (e) => {
    if (e.target.value.length &lt;= 3) {
      errorMessage[1].style.display = "inline";
      formLastNameInp.classList.add("echec");
      formLastNameInp.classList.add("border");

      setTimeout(() => {
        formLastNameInp.classList.remove("echec");
      }, 500);
      return (validLast = false);
    } else {
      errorMessage[1].style.display = "none";
      return (validLast = true);
    }
  });
}
function verifMail() {
  const formEmailInp = document.querySelector(".email-inp");
  const errorMessage = document.querySelectorAll(".message-alert");

  formEmailInp.addEventListener("input", (e) => {
    const regexMail = /\S+@\S+\.\S+/;
    if (e.target.value.search(regexMail) === 0) {
      errorMessage[2].style.display = "none";
      return (validMail = true);
    } else if (e.target.value.search(regexMail) === -1) {
      errorMessage[2].style.display = "inline";
      formEmailInp.classList.add("echec");
      formEmailInp.classList.add("border");

      setTimeout(() => {
        formEmailInp.classList.remove("echec");
      }, 500);
      return (validMail = false);
    }
  });
}
function verifMsg() {
  const formMsgInp = document.querySelector(".msg-inp");
  const errorMessage = document.querySelectorAll(".message-alert");

  formMsgInp.addEventListener("input", (e) => {
    if (e.target.value.length &lt;= 3) {
      errorMessage[3].style.display = "inline";
      formMsgInp.classList.add("echec");
      formMsgInp.classList.add("border");

      setTimeout(() => {
        formMsgInp.classList.remove("echec");
      }, 500);
      return (validMsg = false);
    } else {
      errorMessage[3].style.display = "none";
      return (validMsg = true);
    }
  });
}

export { openModalForm, verifFirst, verifLast, verifMail, verifMsg };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bannerPhotographer.html">bannerPhotographer</a></li><li><a href="module-dropdownMenu.html">dropdownMenu</a></li><li><a href="module-lightbox.html">lightbox</a></li><li><a href="module-main.html">main</a></li><li><a href="module-Medium-class.html">Medium-class</a></li><li><a href="module-MediumList.html">MediumList</a></li><li><a href="module-modale.html">modale</a></li><li><a href="module-Photographer-class.html">Photographer-class</a></li><li><a href="module-Photographer-List.html">Photographer-List</a></li><li><a href="module-photographer-pages.html">photographer-pages</a></li></ul><h3>Classes</h3><ul><li><a href="module-Medium-class.Medium.html">Medium</a></li><li><a href="module-MediumList.MediumList.html">MediumList</a></li><li><a href="module-Photographer-class.Photographers.html">Photographers</a></li><li><a href="module-Photographer-List.PhotographerList.html">PhotographerList</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Jul 01 2021 20:28:58 GMT+1100 (heure des îles Salomon)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
